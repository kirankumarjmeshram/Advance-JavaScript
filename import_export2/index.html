<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./styles/styles.css">
  </head>

    <body>
    <div id="navbar-container"></div>
    <div id="main">
      <button id="get-repo-btn">Get User Repo</button>
    </div>
  </body>
</html>
<script type="module">
  import navbar from './components/navbar.js';
  import getData from './scripts/getData.js';

  var response;

  let navbar_container = document.getElementById("navbar-container");

  navbar_container.innerHTML = navbar();

  let search_box = document.getElementById("search-input") //
  //addEventLisener
  search_box.addEventListener('keypress',makeAPICall);

  async function makeAPICall(e){
    if(e.key === "Enter"){
      let user = search_box.value;
    //make fetch call
      let img = document.getElementById("profile-img");
      img.src=response.avatar_url;

    let response =await getData(user)
    console.log("response: ",response);
    }
    
    //async fn return value ie promice
  }

let btn = document.getElementById("get-repo-btn")
btn.addEventListener('click',getUserRepos)

async function getUserRepos(){
  let res = await fetch(response.repos_url);

  let data = await res.json();
  console.log("data: ",data);
}

</script>
